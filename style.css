:root {
    --primary-color: #2c3e50;
    --secondary-color: #3498db;
    --bg-color: #f4f7f6;
    --white: #ffffff;
    --sidebar-width: 250px;
}

* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Tajawal', sans-serif; }

body { background-color: var(--bg-color); direction: rtl; }

/* --- Login --- */
#login-screen {
    height: 100vh; display: flex; justify-content: center; align-items: center;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    padding: 20px;
}
.login-container { background: var(--white); padding: 2rem; border-radius: 10px; width: 100%; max-width: 350px; }
.login-container input, .login-container button { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ddd; }
.login-container button { background: var(--primary-color); color: white; border: none; cursor: pointer; }

/* --- Layout --- */
#main-app { display: flex; min-height: 100vh; position: relative; }

/* Sidebar (Desktop Default) */
.sidebar {
    width: var(--sidebar-width); background: var(--primary-color); color: var(--white);
    position: fixed; height: 100%; right: 0; top: 0;
    padding: 1rem; z-index: 1000;
    transition: right 0.3s ease;
}

.content {
    margin-right: var(--sidebar-width); /* مسافة للشريط الجانبي */
    width: calc(100% - var(--sidebar-width));
    padding: 2rem;
    transition: margin-right 0.3s ease, width 0.3s ease;
}

/* أخفينا زر القائمة للجوال في شاشات الكمبيوتر */
.mobile-header, .close-sidebar-btn, .sidebar-overlay { display: none; }

.sidebar .brand { font-size: 1.5rem; margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: center; }
.sidebar nav ul li { padding: 12px; cursor: pointer; margin-bottom: 5px; border-radius: 5px; }
.sidebar nav ul li:hover, .sidebar nav ul li.active { background: var(--secondary-color); }

/* --- Responsive Helpers --- */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
.card { background: white; padding: 1.5rem; border-radius: 10px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

/* Tables Responsive Wrapper */
.table-responsive { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; }
table.data-table { width: 100%; min-width: 600px; /* ضمان عدم انضغاط الجدول */ border-collapse: collapse; background: white; }
th, td { padding: 12px; text-align: right; border-bottom: 1px solid #eee; white-space: nowrap; }
th { background: var(--primary-color); color: white; }

/* Filters Area */
.filters { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
.filters select, .filters button { padding: 8px; border-radius: 5px; border: 1px solid #ddd; }

/* --- Mobile Styles (max-width: 768px) --- */
@media (max-width: 768px) {
    /* 1. Sidebar becomes hidden by default */
    .sidebar { right: -260px; /* مخفي خارج الشاشة */ width: 250px; }
    
    /* 2. Show Sidebar when active */
    .sidebar.active { right: 0; }
    
    /* 3. Content takes full width */
    .content { margin-right: 0; width: 100%; padding: 1rem; }
    
    /* 4. Show Mobile Header & Controls */
    .mobile-header { 
        display: flex; align-items: center; gap: 15px; 
        margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #ddd;
    }
    .mobile-header i { font-size: 1.5rem; cursor: pointer; color: var(--primary-color); }
    .desktop-header { display: none; } /* إخفاء هيدر الكمبيوتر لتوفير المساحة */
    
    .close-sidebar-btn { display: block; cursor: pointer; }
    
    /* 5. Overlay (Dark background) */
    .sidebar-overlay {
        display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.5); z-index: 900;
    }
    .sidebar-overlay.active { display: block; }

    /* 6. Adjust Modal width */
    .modal-content { width: 90%; margin: 20% auto; }
    
    /* 7. Filters stack vertically */
    .filters { flex-direction: column; }
    .filters select, .filters button { width: 100%; }
}